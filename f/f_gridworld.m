% Dynamics function for the 4x4 gridworld
%
% in: 
%    x   - state (integer in [1,2,...,16])
%    u   - command (integer in [1,2,...,5])
%
% out:
%    x   - next state (integer in [1,2,...,16])
% 
function x = f_gridworld(x,u)

% u = 0  N  E  S  W
f = [ 1  2  5  1  1;...
      2  3  6  1  2;...
      3  4  7  2  3;...
	  4  4  8  3  4;...
	  5  6  9  5  1;...
	  6  7 10  5  2;...
	  7  8 11  6  3;...
      8  8 12  7  4;...
	  9 10 13  9  5;...
	 10 11 14  9  6;...
	 11 12 15 10  7;...
	 12 12 16 11  8;...
	 13 14 13 13  9;...
	 14 15 14 13 10;...
	 15 16 15 14 11;...
	 16 16 16 15 12];

x = diag(f(x,u))'; % diag, to return costs for multiple x, u combinations
